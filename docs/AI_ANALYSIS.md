# AI 할 일 분석 기능

## 개요

사용자의 할 일 목록을 AI가 깊이 있게 분석하여 개인 맞춤형 인사이트와 실행 가능한 추천 사항을 제공합니다.

## 주요 기능

### 1️⃣ 완료율 분석

#### 전체 완료율
- 총 할 일 개수 대비 완료된 개수 계산
- 백분율로 시각화하여 진행 상황 파악

#### 우선순위별 완료 패턴
- **높음**: 긴급하고 중요한 작업의 완료율
- **보통**: 일반적인 작업의 완료율
- **낮음**: 덜 중요한 작업의 완료율

**인사이트 예시:**
- "높은 우선순위 작업을 85% 완료하셨어요. 중요한 일을 놓치지 않는 능력이 탁월하시네요!"
- "낮은 우선순위 작업은 30% 완료되었어요. 중요도가 낮더라도 쌓이면 부담이 되니, 짬짬이 처리하는 습관을 들여보세요."

### 2️⃣ 시간 관리 분석

#### 마감일 준수율
- 마감일이 설정된 작업 비율
- 기한 내 완료한 작업 vs 기한 초과 작업
- 오늘/이번 주 마감 작업 현황

#### 시간대별 업무 집중도
- **오전** (6시-12시): 업무 시작 시간대
- **오후** (12시-18시): 집중 작업 시간대
- **저녁** (18시-24시): 마무리 시간대

**인사이트 예시:**
- "오후에 12개 작업이 집중되어 있어 시간 관리가 중요해 보입니다."
- "마감일이 있는 작업의 완료율이 상대적으로 높네요. 시한을 정하는 것이 동기부여가 되는 것 같아요."

### 3️⃣ 생산성 패턴

#### 카테고리별 분석
- **업무**: 회의, 보고서, 프로젝트 등
- **개인**: 쇼핑, 친구, 가족 등
- **건강**: 운동, 병원, 요가 등
- **학습**: 공부, 책, 강의 등

#### 완료 패턴 식별
- 완료하기 쉬운 작업의 특징
- 자주 미루는 작업 유형
- 일관성 있게 완료하는 카테고리

**인사이트 예시:**
- "업무 카테고리 작업이 주간 활동의 65%를 차지합니다. 일과 삶의 균형을 고려해보세요."
- "건강 관련 작업의 완료율이 90%로 매우 높아요. 자기 관리를 잘하고 계시네요!"

### 4️⃣ 실행 가능한 추천

#### 우선순위 관리
- 긴급-중요 매트릭스 기반 작업 순서 제안
- 남은 시간 동안 집중할 작업 선정
- 구체적인 실행 시간 제안

**추천 예시:**
- "오늘 마감인 '프로젝트 발표 준비'를 가장 먼저 완료하세요. 예상 소요 시간을 정해두면 더 효율적입니다."
- "다음 주에는 5개의 미완료 작업을 우선 정리하고, 새로운 작업을 추가하는 것을 추천합니다."

#### 시간 관리 팁
- 집중 시간대 활용 전략
- 작업 묶음 처리 (배칭) 방법
- 휴식 타이밍 제안

**추천 예시:**
- "오후 2-4시는 집중력이 높은 시간대입니다. 이 시간에 중요한 작업을 배치해보세요."
- "매일 저녁 10분씩 다음 날 할 일을 미리 정리해두세요. 아침에 무엇을 할지 고민하는 시간을 줄일 수 있어요."

#### 업무 분산 전략
- 과부하된 시간대/카테고리 분산
- 업무-개인-건강 균형 조정
- 지속 가능한 생산성 유지 방법

**추천 예시:**
- "업무 외에 개인 시간과 건강 관련 할 일도 균형있게 배치해보세요. 지속 가능한 생산성이 더 중요합니다."
- "오전에 중요한 작업을 배치하면 오후가 더 여유로워질 거예요."

### 5️⃣ 긍정적인 피드백

#### 성취 인정
- 완료한 작업의 의미 강조
- 구체적인 숫자로 성과 칭찬
- 강점과 능력 인정

**피드백 예시:**
- "이번 주 15개의 할 일 중 12개를 완료하셨네요! 80%의 완료율은 매우 훌륭한 수준입니다."
- "높은 우선순위 작업을 모두 완료하셨어요. 중요한 일을 먼저 처리하는 능력이 뛰어나시네요!"

#### 격려와 동기부여
- 개선 가능성 제시
- 완벽보다 성장 강조
- 긍정적 마인드셋 유지

**피드백 예시:**
- "완벽을 추구하기보다 꾸준함을 목표로 하면 스트레스가 줄어들 거예요."
- "오늘 하루도 정말 수고하셨어요! 남은 시간도 화이팅입니다."

### 6️⃣ 기간별 차별화

#### 오늘의 요약
- **초점**: 당일 집중도와 실시간 진행 상황
- **목표**: 오늘 하루 생산성 극대화
- **특징**:
  - 현재 시각 고려한 남은 시간 활용
  - 오늘 마감 작업 우선순위
  - 즉시 실행 가능한 단기 조언
  - 하루 마무리 격려

**오늘의 요약 예시:**
```json
{
  "summary": "오늘 5개 중 3개를 완료하셨네요! 오후 시간을 활용해 나머지도 해낼 수 있어요.",
  "urgentTasks": ["프로젝트 발표 준비", "보고서 제출"],
  "insights": [
    "높은 우선순위 작업 2개를 완료하셨어요. 중요한 일부터 처리하는 습관이 좋네요!",
    "오후에 4개 작업이 집중되어 있습니다.",
    "업무 카테고리가 오늘의 70%를 차지하고 있어요."
  ],
  "recommendations": [
    "오늘 마감인 '프로젝트 발표 준비'를 가장 먼저 완료하세요.",
    "오후 2-4시 집중 시간을 활용해 중요 작업을 처리해보세요.",
    "한 가지 완료할 때마다 짧은 휴식을 가져보세요.",
    "저녁에는 개인 시간도 챙기는 것을 잊지 마세요."
  ]
}
```

#### 이번 주 요약
- **초점**: 주간 패턴 분석과 장기 전략
- **목표**: 지속 가능한 생산성 확립
- **특징**:
  - 요일별/시간대별 패턴 분석
  - 생산성 트렌드 파악
  - 다음 주 계획 수립 지원
  - 습관 형성 조언

**이번 주 요약 예시:**
```json
{
  "summary": "이번 주 20개의 할 일 중 15개를 완료하셨네요! 75%의 완료율은 매우 훌륭한 수준입니다.",
  "urgentTasks": ["내일 마감 보고서", "금요일 회의 준비"],
  "insights": [
    "높은 우선순위 작업을 90% 완료하셨어요. 중요한 일을 놓치지 않는 능력이 탁월하시네요!",
    "업무 카테고리 작업이 주간 활동의 60%를 차지합니다.",
    "마감일이 있는 작업의 완료율이 85%로 매우 높네요.",
    "건강 관련 작업도 꾸준히 완료하고 계시네요. 자기 관리가 훌륭합니다!",
    "낮은 우선순위 작업은 40% 완료되었어요. 틈틈이 처리하면 부담이 줄어들 거예요."
  ],
  "recommendations": [
    "다음 주에는 5개의 미완료 작업을 우선 정리하고, 새로운 작업을 추가하세요.",
    "오전에 중요한 작업을 배치하면 오후가 더 여유로워질 거예요.",
    "업무 외에 개인 시간도 균형있게 배치해보세요.",
    "매일 저녁 10분씩 다음 날 할 일을 정리하는 습관을 들여보세요.",
    "완벽을 추구하기보다 꾸준함을 목표로 하면 스트레스가 줄어들어요."
  ]
}
```

## 기술 스택

- **AI Model**: Google Gemini 2.0 Flash (Experimental)
- **분석 알고리즘**: 통계 기반 패턴 인식
- **프롬프트 엔지니어링**: 생산성 코칭 전문 프롬프트
- **실시간 분석**: 현재 시각 기반 동적 조언

## API 명세

### POST /api/ai/analyze-todos

**Request Body:**
```json
{
  "todos": [
    {
      "id": "1",
      "title": "프로젝트 발표 준비",
      "description": "슬라이드 30장",
      "due_date": "2026-01-15T15:00:00Z",
      "priority": "high",
      "category": ["업무"],
      "completed": false,
      "created_date": "2026-01-14T09:00:00Z"
    }
  ],
  "period": "today"  // "today" | "week"
}
```

**Response (Success):**
```json
{
  "success": true,
  "data": {
    "summary": "오늘 8개 중 5개를 완료하셨네요!",
    "urgentTasks": ["프로젝트 발표 준비", "보고서 제출"],
    "insights": [
      "높은 우선순위 작업을 잘 완료하고 계시네요!",
      "오후에 작업이 집중되어 있습니다."
    ],
    "recommendations": [
      "긴급 작업부터 처리하세요.",
      "오후 시간을 효율적으로 활용해보세요."
    ]
  }
}
```

## UI/UX 개선사항

### 시각화 요소

#### 1. 완료율 진행바
- **대형 숫자**: 완료율을 2xl 폰트 크기로 강조
- **Progress 컴포넌트**: Shadcn/ui의 진행바로 시각적 표현
- **아이콘**: 체크마크 또는 트렌드업 아이콘으로 의미 강화

#### 2. 우선순위별 카드
**색상 시스템:**
- 🔴 **높음**: 빨간색 배경 + Destructive 배지
- 🟠 **보통**: 주황색 배경 + 커스텀 배지
- 🟢 **낮음**: 초록색 배경 + 커스텀 배지

**카드 구조:**
- 상단: 우선순위 배지 + 개수
- 하단: 최대 3개 작업 제목 + "더보기"

#### 3. 분석 결과 카드
**디자인 패턴:**
- **전체 요약**: 그라디언트 배경 + 좌측 강조 테두리
- **긴급 작업**: 번호 원형 배지 + 호버 효과
- **인사이트**: 2열 그리드 + 점 마커
- **추천 사항**: 화살표 아이콘 + 그룹 호버 효과

#### 4. 아이콘 시스템
- 📅 Calendar: 오늘의 요약
- 📊 BarChart3: 이번 주 요약
- ✅ CheckCircle2: 완료율
- 📈 TrendingUp: 주간 트렌드
- 🎯 Target: 남은 할 일
- ⚠️ AlertCircle: 긴급 작업
- 💡 Lightbulb: 추천 사항
- ➡️ ArrowRight: 실행 가능한 조언

### 반응형 디자인

#### 모바일 (< 640px)
- 탭 버튼: 전체 너비, 스택 레이아웃
- 우선순위 카드: 1열 그리드
- 인사이트: 1열 그리드
- 통계: 2열 그리드

#### 태블릿 (640px ~ 1024px)
- 우선순위 카드: 2-3열 그리드
- 인사이트: 2열 그리드
- 통계: 4열 그리드

#### 데스크톱 (> 1024px)
- 우선순위 카드: 3열 그리드
- 인사이트: 2열 그리드
- 통계: 4열 그리드
- 최대 너비 제한으로 가독성 확보

### 애니메이션 효과

- **페이드 인**: 분석 결과 표시 시 부드러운 페이드 인 (500ms)
- **호버 효과**: 카드에 그림자 또는 배경색 변화
- **프로그레스 바**: 자동 애니메이션으로 시각적 피드백
- **로딩 스피너**: AI 분석 중 회전 애니메이션

### 접근성

- **고대비 색상**: WCAG 2.1 AA 기준 준수
- **명확한 라벨**: 모든 섹션에 의미 있는 제목
- **키보드 네비게이션**: 탭과 버튼 포커스 지원
- **스크린 리더**: aria-label 및 의미론적 HTML

## 분석 프로세스

1. **데이터 수집**: 사용자의 할 일 목록 수신
2. **통계 계산**: 완료율, 우선순위, 카테고리, 시간대 분석
3. **패턴 인식**: AI가 생산성 패턴 파악
4. **인사이트 생성**: 데이터 기반 관찰 도출
5. **추천 생성**: 실행 가능한 조언 제공
6. **긍정 강화**: 격려와 동기부여 메시지 추가

## 사용 가이드

### 1. 메인 페이지 접속
메인 페이지 상단에 "AI 요약 및 분석" 카드가 표시됩니다.

### 2. 기간 선택
- **오늘의 요약**: 오늘 할 일에 대한 즉각적인 분석
- **이번 주 요약**: 주간 패턴과 장기 전략 분석

### 3. 분석 전 미리보기
선택한 탭에서 AI 분석 전에 다음 정보를 확인할 수 있습니다:

**오늘의 요약 탭:**
- 📊 완료율 진행바 (대형 숫자 + 시각화)
- 🎯 남은 할 일 목록 (우선순위별 카드)
  - 높음 (빨강): 긴급하고 중요한 작업
  - 보통 (주황): 일반 작업
  - 낮음 (초록): 덜 중요한 작업
- ⚠️ 긴급 작업 알림 (마감 임박 또는 초과)

**이번 주 요약 탭:**
- 📈 주간 완료율 트렌드
- 📊 주간 통계 그리드 (전체/완료/미완료/긴급)
- 📉 우선순위별 분포 차트

### 4. AI 요약 보기
"AI 요약 보기" 버튼을 클릭하면 AI 분석이 시작됩니다.

### 5. 결과 확인
AI 분석 결과는 시각적으로 구조화되어 표시됩니다:

- ✅ **전체 요약**: 그라디언트 배경의 하이라이트 카드
- ⚠️ **긴급 작업**: 번호가 매겨진 빨간색 카드
- 📈 **인사이트**: 2열 그리드 레이아웃의 인사이트 카드
- 💡 **추천 사항**: 화살표 아이콘이 있는 실행 가능한 조언 카드

## 모범 사례

### 매일 활용하기
- 아침: 오늘의 요약으로 하루 계획 수립
- 점심: 진행 상황 체크 및 우선순위 조정
- 저녁: 완료 현황 확인 및 내일 준비

### 주간 리뷰
- 월요일: 이번 주 요약으로 주간 목표 설정
- 금요일: 주간 성과 확인 및 다음 주 계획

### 피드백 활용
- 긍정적 피드백: 자신감 향상
- 인사이트: 패턴 인식 및 개선
- 추천 사항: 즉시 실천

## 제한사항

- AI 분석은 입력된 데이터 기반으로만 수행됩니다
- 과거 기간 대비 분석은 현재 버전에서 미지원
- 할 일이 없으면 기본 메시지 반환

## 향후 개선 계획

- [ ] 과거 기간 대비 개선도 비교
- [ ] 주간/월간 트렌드 시각화
- [ ] 개인화된 생산성 점수
- [ ] 목표 설정 및 달성률 추적
- [ ] 팀 협업 분석 (향후)

## 문의 및 피드백

AI 분석 결과에 대한 피드백은 언제나 환영합니다!
